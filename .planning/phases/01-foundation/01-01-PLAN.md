---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/app/globals.css
  - postcss.config.mjs
  - src/lib/utils.ts
  - package.json
autonomous: true
requirements:
  - FOUN-01
  - FOUN-02
  - FOUN-03

must_haves:
  truths:
    - "`npm run dev` starts without errors and renders a page at localhost:3000"
    - "Tailwind v4 utility classes using brand tokens (bg-brand-navy, text-brand-cyan, etc.) produce visible color in the browser"
    - "Montserrat and Inter fonts render via next/font with zero layout shift"
  artifacts:
    - path: "src/app/layout.tsx"
      provides: "Root layout with html lang=fr, font CSS variables on html element, body with font-body"
      contains: "lang=\"fr\""
    - path: "src/app/globals.css"
      provides: "Tailwind v4 import, @theme inline block with all brand color tokens and font family references"
      contains: "@theme inline"
    - path: "src/lib/utils.ts"
      provides: "cn() helper combining clsx and tailwind-merge"
      exports: ["cn"]
    - path: "postcss.config.mjs"
      provides: "Tailwind v4 PostCSS plugin configuration"
      contains: "@tailwindcss/postcss"
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "import './globals.css'"
      pattern: "import.*globals\\.css"
    - from: "src/app/globals.css"
      to: "src/app/layout.tsx"
      via: "@theme inline font families reference next/font CSS variables set on html element"
      pattern: "--font-display:\\s*var\\(--font-montserrat\\)"
---

<objective>
Scaffold a Next.js 15 project with Tailwind CSS v4 design tokens matching the Rein Padel Tour poster identity, and load Montserrat + Inter fonts with zero CLS.

Purpose: Establish the running project with the complete design system so all subsequent components can use brand colors and fonts without rework.
Output: A working Next.js 15 app at localhost:3000 with Tailwind v4 brand tokens generating utility classes and both Google Fonts loaded.
</objective>

<execution_context>
@/Users/dominikgrob/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dominikgrob/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-CONTEXT.md
@srv/grafic/affiche-rtp.png
@srv/grafic/rpt_logo.png
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js 15 project with Tailwind v4 and install dependencies</name>
  <files>
    package.json
    postcss.config.mjs
    src/app/page.tsx
    src/lib/utils.ts
  </files>
  <action>
1. Run `npx create-next-app@latest . --yes` in the project root (which already contains `srv/`). This scaffolds Next.js 15 with TypeScript, Tailwind CSS, ESLint, App Router, and Turbopack as defaults. The `--yes` flag accepts all defaults.

2. After scaffolding, verify postcss.config.mjs uses `@tailwindcss/postcss` (not the old `tailwindcss` plugin). If it has the v3 plugin name, replace with:
```javascript
const config = {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}
export default config
```

3. Install additional dependencies:
```bash
npm install clsx tailwind-merge
```

4. Create `src/lib/utils.ts` with the `cn()` helper:
```typescript
import { type ClassValue, clsx } from 'clsx'
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

5. Replace the default `src/app/page.tsx` with a minimal placeholder:
```tsx
export default function Home() {
  return (
    <main className="flex min-h-screen items-center justify-center">
      <h1 className="text-4xl font-bold">Rein Padel Tour 2026</h1>
    </main>
  )
}
```

IMPORTANT: The scaffolding creates files in the project root alongside the existing `srv/` directory. Do NOT delete or move `srv/`.
  </action>
  <verify>
    <automated>cd /Users/dominikgrob/Desktop/Prv/z_Prv_Public/ReinPadel_web && npm run build 2>&1 | tail -5</automated>
    <manual>Run `npm run dev` and verify localhost:3000 shows "Rein Padel Tour 2026"</manual>
  </verify>
  <done>
    - `npm run build` completes without errors
    - `src/lib/utils.ts` exports `cn` function
    - `postcss.config.mjs` references `@tailwindcss/postcss`
    - `clsx` and `tailwind-merge` are in package.json dependencies
  </done>
</task>

<task type="auto">
  <name>Task 2: Add brand design tokens and Google Fonts to the design system</name>
  <files>
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
1. **Read the poster and logo images** at `srv/grafic/affiche-rtp.png` and `srv/grafic/rpt_logo.png` to extract/confirm the brand color palette. Per CONTEXT.md, pick the closest clean hex values.

   Recommended starting values from research (adjust after visual comparison with poster):
   - Navy blue (REIN wordmark, dark backgrounds): ~#1e3a8a
   - Cyan blue (court background, PADEL TOUR, primary CTA): ~#0ea5e9
   - Coral/salmon (kidney icon, red CTA): ~#f4614f
   - Yellow-green (ball, "2026" accent): ~#a8d12a
   - Navy-tinted dark gray (body text): ~#1e293b
   - Navy-tinted light gray (borders, subtle bg): ~#e8ecf4

   Two separate blue tokens as specified in CONTEXT.md: navy/dark blue AND cyan/bright blue.

2. **Replace globals.css** entirely with Tailwind v4 pattern:
```css
@import "tailwindcss";

@theme inline {
  /* Brand colors — extracted from poster and logo */
  --color-brand-navy: #1e3a8a;
  --color-brand-cyan: #0ea5e9;
  --color-brand-coral: #f4614f;
  --color-brand-yellow-green: #a8d12a;
  --color-brand-gray: #1e293b;
  --color-brand-gray-light: #e8ecf4;

  /* Font families — reference next/font CSS variables */
  --font-display: var(--font-montserrat);
  --font-body: var(--font-inter);
}

@layer base {
  body {
    @apply font-body text-brand-gray antialiased;
  }
}
```

   CRITICAL: Use `@theme inline` (not plain `@theme`). The `inline` keyword is required because font values reference CSS variables from next/font. Without it, Tailwind generates its own CSS variable that shadows the next/font one.

   CRITICAL: Do NOT use v3 patterns (`@tailwind base; @tailwind components; @tailwind utilities;`). Use the single `@import "tailwindcss"` line.

3. **Update layout.tsx** with Montserrat + Inter via next/font:
```tsx
import type { Metadata } from 'next'
import { Montserrat, Inter } from 'next/font/google'
import './globals.css'

const montserrat = Montserrat({
  subsets: ['latin'],
  variable: '--font-montserrat',
  display: 'swap',
})

const inter = Inter({
  subsets: ['latin'],
  variable: '--font-inter',
  display: 'swap',
})

export const metadata: Metadata = {
  title: 'Rein Padel Tour 2026',
  description: 'Tournoi de padel caritatif au profit de la recherche sur la maladie de Berger',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="fr" className={`${montserrat.variable} ${inter.variable}`}>
      <body>{children}</body>
    </html>
  )
}
```

   Key points:
   - `variable` option exposes `--font-montserrat` and `--font-inter` as CSS properties on `<html>`
   - Both variables MUST be on `<html>` (not `<body>`) so `@theme inline` can resolve them
   - `display: 'swap'` ensures visible text during load
   - `adjustFontFallback` defaults to `true` — this achieves zero CLS via metric-matched fallback
   - `lang="fr"` for French site

4. **Update page.tsx** to showcase tokens — add visual proof that brand colors and fonts work:
```tsx
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-center gap-8 p-8">
      <h1 className="font-display text-4xl font-bold text-brand-navy">
        Rein Padel Tour 2026
      </h1>
      <div className="flex gap-4">
        <div className="h-16 w-16 rounded-lg bg-brand-navy" title="Navy" />
        <div className="h-16 w-16 rounded-lg bg-brand-cyan" title="Cyan" />
        <div className="h-16 w-16 rounded-lg bg-brand-coral" title="Coral" />
        <div className="h-16 w-16 rounded-lg bg-brand-yellow-green" title="Yellow-green" />
        <div className="h-16 w-16 rounded-lg bg-brand-gray" title="Gray" />
        <div className="h-16 w-16 rounded-lg bg-brand-gray-light" title="Gray Light" />
      </div>
      <p className="font-body text-lg text-brand-gray">
        Design tokens and fonts loaded successfully.
      </p>
    </main>
  )
}
```

   This page is temporary — it proves tokens and fonts are wired. Phase 2 will replace it.
  </action>
  <verify>
    <automated>cd /Users/dominikgrob/Desktop/Prv/z_Prv_Public/ReinPadel_web && npm run build 2>&1 | tail -5</automated>
    <manual>Run `npm run dev`, visit localhost:3000. Verify: (1) heading renders in Montserrat font (check DevTools computed font-family), (2) six color swatches are visible matching poster palette, (3) body text renders in Inter font. Compare color swatches against poster image at srv/grafic/affiche-rtp.png.</manual>
  </verify>
  <done>
    - globals.css contains `@import "tailwindcss"` and `@theme inline` block with 6 brand color tokens and 2 font family tokens
    - layout.tsx loads Montserrat and Inter via next/font/google with variable option
    - html element has `lang="fr"` and both font CSS variable classes
    - Brand color utilities (bg-brand-navy, text-brand-cyan, etc.) produce visible color in the browser
    - Montserrat renders for font-display, Inter renders for font-body (verifiable in DevTools computed styles)
    - `npm run build` succeeds without errors
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run dev` starts and localhost:3000 renders the test page
3. In browser DevTools: heading shows `font-family: Montserrat` (or its metric-matched fallback during load)
4. In browser DevTools: body text shows `font-family: Inter`
5. Six distinct color swatches visible on the page matching poster identity
6. `postcss.config.mjs` uses `@tailwindcss/postcss`
7. `src/lib/utils.ts` exports `cn()` function
</verification>

<success_criteria>
- The project builds and runs with `npm run dev`
- All six brand color tokens generate working Tailwind utilities
- Both fonts load via next/font with zero CLS (no visible layout shift on reload)
- The `cn()` helper is available for all subsequent component work
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
