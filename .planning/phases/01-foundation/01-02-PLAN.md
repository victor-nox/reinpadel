---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on:
  - "01-01"
files_modified:
  - src/lib/typography.ts
  - src/components/ui/Button.tsx
  - src/components/ui/SectionWrapper.tsx
  - src/app/page.tsx
autonomous: true
requirements:
  - FOUN-04
  - FOUN-05

must_haves:
  truths:
    - "A French text sample renders non-breaking spaces correctly before : ? ! ; and inside guillemets"
    - "SectionWrapper renders with consistent horizontal padding, max-width container, and vertical spacing"
    - "Button renders as a pill shape with primary, ghost, blue, red, and outline variants"
  artifacts:
    - path: "src/lib/typography.ts"
      provides: "frenchTypography() function and Fr component for inserting correct Unicode non-breaking spaces"
      exports: ["frenchTypography", "Fr"]
    - path: "src/components/ui/Button.tsx"
      provides: "Pill-shaped button with 5 variants (primary, ghost, blue, red, outline) and 3 sizes (sm, md, lg)"
      exports: ["Button"]
    - path: "src/components/ui/SectionWrapper.tsx"
      provides: "Layout wrapper with consistent padding, max-width, and vertical spacing"
      exports: ["SectionWrapper"]
  key_links:
    - from: "src/components/ui/Button.tsx"
      to: "src/lib/utils.ts"
      via: "import { cn } from '@/lib/utils'"
      pattern: "import.*cn.*from.*@/lib/utils"
    - from: "src/components/ui/SectionWrapper.tsx"
      to: "src/lib/utils.ts"
      via: "import { cn } from '@/lib/utils'"
      pattern: "import.*cn.*from.*@/lib/utils"
    - from: "src/components/ui/Button.tsx"
      to: "src/app/globals.css"
      via: "Uses brand token classes (bg-brand-cyan, bg-brand-coral, etc.) defined in @theme inline"
      pattern: "bg-brand-(cyan|coral|navy)"
---

<objective>
Create the French typography utility and shared UI primitives (Button, SectionWrapper) that every subsequent section component will use.

Purpose: Provide the reusable building blocks so Phase 2 section components can be assembled without duplicating layout logic or button styling.
Output: Three production-ready modules — typography utility, Button component, SectionWrapper component — demonstrated on a showcase page.
</objective>

<execution_context>
@/Users/dominikgrob/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dominikgrob/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create French typography utility</name>
  <files>
    src/lib/typography.ts
  </files>
  <action>
Create `src/lib/typography.ts` with:

1. **`frenchTypography(text: string): string`** — applies French punctuation rules:
   - Before `:` → insert `\u00A0` (regular non-breaking space), replacing any existing normal space
   - Before `?`, `!`, `;` → insert `\u202F` (narrow non-breaking space / espace fine insecable), replacing any existing normal space
   - After `«` → insert `\u00A0`
   - Before `»` → insert `\u00A0`
   - Must handle cases where there is already a space (replace it) and where there is no space (insert it)

   Implementation using regex:
   ```typescript
   export function frenchTypography(text: string): string {
     return text
       .replace(/\s*([?!;])/g, '\u202F$1')
       .replace(/\s*(:)/g, '\u00A0$1')
       .replace(/«\s*/g, '«\u00A0')
       .replace(/\s*»/g, '\u00A0»')
   }
   ```

2. **`Fr` component** — thin JSX wrapper for convenience in templates:
   ```tsx
   export function Fr({ children }: { children: string }) {
     return <>{frenchTypography(children)}</>
   }
   ```

   This component accepts a string child and renders it with French typography applied. Keeps JSX clean in section components.

IMPORTANT: Use `\u202F` (narrow NBSP) for `? ! ;` and `\u00A0` (regular NBSP) for `:` and guillemets. Do NOT use `&nbsp;` for everything — the widths are typographically different.
  </action>
  <verify>
    <automated>cd /Users/dominikgrob/Desktop/Prv/z_Prv_Public/ReinPadel_web && npx tsx -e "const { frenchTypography } = require('./src/lib/typography'); const result = frenchTypography('Bonjour : comment allez-vous ? C\\'est super ! Merci ; «salut»'); const hasNBSP = result.includes('\u00A0:'); const hasNarrow = result.includes('\u202F?'); const hasGuillemet = result.includes('«\u00A0'); console.log('NBSP before colon:', hasNBSP); console.log('Narrow before ?:', hasNarrow); console.log('NBSP after «:', hasGuillemet); console.log(hasNBSP && hasNarrow && hasGuillemet ? 'PASS' : 'FAIL');"</automated>
    <manual>Inspect the rendered page to confirm non-breaking spaces are present (text should not break before punctuation marks)</manual>
  </verify>
  <done>
    - `frenchTypography()` inserts `\u00A0` before `:` and inside guillemets
    - `frenchTypography()` inserts `\u202F` before `?`, `!`, `;`
    - `Fr` component is exported for JSX usage
    - Both handle existing spaces (replace) and missing spaces (insert)
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Button and SectionWrapper UI primitives with showcase page</name>
  <files>
    src/components/ui/Button.tsx
    src/components/ui/SectionWrapper.tsx
    src/app/page.tsx
  </files>
  <action>
1. **Create `src/components/ui/Button.tsx`:**

   A typed React component with:
   - **Variants** (per CONTEXT.md locked decisions):
     - `primary`: cyan blue solid bg (`bg-brand-cyan`), white text — for main CTAs
     - `ghost`: transparent bg, white border and white text — for dark/image backgrounds
     - `blue`: navy solid bg (`bg-brand-navy`), white text — for participation cards
     - `red`: coral solid bg (`bg-brand-coral`), white text — for participation cards
     - `outline`: transparent bg, navy border and navy text — for participation cards
   - **Sizes**: `sm` (px-4 py-2 text-sm), `md` (px-6 py-3 text-base), `lg` (px-8 py-4 text-lg)
   - **Shape**: `rounded-full` for pill shape (matching poster date badge style)
   - **Base classes**: `inline-flex items-center justify-center font-display font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2`
   - **Props**: extends `ButtonHTMLAttributes<HTMLButtonElement>`, adds `variant`, `size`, `className`
   - Uses `cn()` from `@/lib/utils` for class merging — consumers can override via `className` prop
   - Hover states: use opacity modifier (e.g., `hover:bg-brand-cyan/90`) for solid variants, `hover:bg-white/10` for ghost

   Use a `Record<ButtonVariant, string>` lookup for variant classes and `Record<ButtonSize, string>` for size classes. Do NOT construct class names dynamically with template literals.

2. **Create `src/components/ui/SectionWrapper.tsx`:**

   A layout wrapper component with:
   - **Outer element**: full-width, vertical padding (`py-16 md:py-24`)
   - **Inner element**: centered container, max-width (`max-w-6xl`), horizontal padding (`px-4 sm:px-6 lg:px-8`)
   - **Props**: `as` prop for semantic element (`section` | `div` | `article`, default `section`), `className` for outer, `innerClassName` for inner container, `id` for anchor links, spreads remaining HTML attributes
   - Uses `cn()` from `@/lib/utils`

3. **Update `src/app/page.tsx`** to showcase all primitives:

   Build a single-page showcase that demonstrates:
   - All 5 Button variants at all 3 sizes
   - Ghost variant shown on a dark background (to verify white-on-dark visibility)
   - SectionWrapper with visible padding boundaries (use a subtle border or background)
   - French typography example: a paragraph with `:`, `?`, `!`, `;`, and `«»` rendered via the `Fr` component

   This showcase page validates all Phase 1 outputs visually. It will be replaced in Phase 2 with the actual one-pager content.

   Wrap the showcase in SectionWrapper to prove the primitive works. Use the frenchTypography utility on at least one text block.
  </action>
  <verify>
    <automated>cd /Users/dominikgrob/Desktop/Prv/z_Prv_Public/ReinPadel_web && npm run build 2>&1 | tail -5</automated>
    <manual>Run `npm run dev`, visit localhost:3000. Verify: (1) All 5 button variants visible with correct colors — primary=cyan, ghost=white-on-dark, blue=navy, red=coral, outline=navy-border. (2) All buttons have pill shape (rounded ends). (3) SectionWrapper constrains content width with visible padding. (4) French text shows no line breaks before punctuation marks. (5) Page is responsive — check at 375px and 1440px.</manual>
  </verify>
  <done>
    - Button component renders pill-shaped buttons in 5 variants (primary, ghost, blue, red, outline) and 3 sizes (sm, md, lg)
    - Button uses cn() for class merging and accepts className override
    - SectionWrapper renders with consistent padding (py-16 md:py-24) and max-width container (max-w-6xl)
    - SectionWrapper accepts `as`, `className`, `innerClassName`, and `id` props
    - Showcase page demonstrates all primitives together
    - `npm run build` succeeds without errors
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run dev` starts and localhost:3000 renders the showcase page
3. All 5 button variants display with correct brand colors and pill shape
4. Ghost button is visible against a dark background section
5. SectionWrapper constrains content to max-w-6xl with correct padding
6. French text sample renders non-breaking spaces before `: ? ! ;` (text does not break at these points)
7. Page is responsive from 375px to 1440px
</verification>

<success_criteria>
- Button and SectionWrapper are importable from `@/components/ui/` and render correctly
- French typography utility correctly inserts Unicode non-breaking spaces
- All primitives use the design tokens (brand colors, font-display, font-body) established in Plan 01
- The showcase page proves all Phase 1 outputs work together
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
